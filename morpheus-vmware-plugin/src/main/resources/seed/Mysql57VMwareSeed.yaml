seed:
  virtualImage:
  - meta: {key: code}
    code: vmware.plugin.vsphere.image.morpheus.mysql.5.7-1
    category: vmware.plugin.vsphere.image.morpheus.mysql.5.7
    sshUsername: ubuntu
    sshPassword: null
    name: Morpheus MySQL 5.7 on Ubuntu 14.04.3
    imageType: vmdk
    remotePath: https://s3-us-west-1.amazonaws.com/morpheus-images/vmware/mysql/mysql-5_7-v1/ubuntu-14_04_3/morpheus-mysql-5_7-ubuntu-14_04_3-v1.ovf
    imagePath: vmware/mysql/mysql-5_7-v1/ubuntu-14_04_3
    isCloudInit: true
    systemImage: true
    installAgent: true
    osType:
      domainClass: osType
      meta: {key: code}
      code: ubuntu.14.04.64

  containerType:
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7
    shortName: mysql
    name: MySQL 5.7
    ports: [3306]
    containerVersion: '5.7'
    imageCode: morpheus mysql 5.7
    entryPoint: /entrypoint.sh
    statTypeCode: mysql
    logTypeCode: mysql
    checkTypeCode: mysqlCheck
    mountData: /var/lib/mysql
    mountConfig: /etc/mysql/conf.d
    mountLogs: /var/log/mysql
    category: master
    cloneType: mysql
    priorityOrder: 0
    serverType: vm
    deploymentType:
      domainClass: containerDeployType
      meta: {key: code}
      code: mysql
    providerType: vmware-plugin
    virtualImage:
      domainClass: virtualImage
      meta: {key: code}
      code: vmware.plugin.vsphere.image.morpheus.mysql.5.7-1
    scripts:
    - meta: {key: code}
      code: mysql-5.6-vm-entrypoint
    - meta: {key: code}
      code: mysql-5.6-vm-stop
    - meta: {key: code}
      code: mysqld-deploy-seed
    - meta: {key: code}
      code: mysql-5.6-vm-start
    - meta: {key: code}
      code: mysql-5.6-vm-restart
    templates:
    - meta: {key: code}
      code: mysql-cnf-5.6
    - meta: {key: code}
      code: mysql-charset-5.6
    - meta: {key: code}
      code: mysql-cnf-custom-5.6
    - meta: {key: code}
      code: mysql-cnf-5.7
    containerMounts:
    - meta: {key: code}
      code: mysql-config
    - meta: {key: code}
      code: mysql-data
    - meta: {key: code}
      code: mysql-seed
    - meta: {key: code}
      code: mysql-logs
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
    backupType: MySQL
    containerPorts:
    - meta: {key: code}
      code: mysql.3306
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-master
    shortName: mysql
    name: MySQL 5.7 Master
    ports: [3306]
    containerVersion: '5.7'
    repositoryImage: ''
    imageCode: morpheus mysql 5.7
    entryPoint: /entrypoint.sh
    statTypeCode: mysql
    logTypeCode: mysql
    checkTypeCode: mysqlCheck
    mountData: /var/lib/mysql
    mountConfig: /etc/mysql/conf.d
    mountLogs: /var/log/mysql
    category: master
    cloneType: mysql
    priorityOrder: 0
    serverType: vm
    providerType: vmware-plugin
    deploymentType:
      domainClass: containerDeployType
      meta: {key: code}
      code: mysql
    virtualImage:
      domainClass: virtualImage
      meta: {key: code}
      code: vmware.plugin.vsphere.image.morpheus.mysql.5.7-1
    actions:
    - meta: {key: code}
      code: mysql-remove-expired-master
    scripts:
    - meta: {key: code}
      code: mysql-5.6-vm-entrypoint
    - meta: {key: code}
      code: mysql-5.6-vm-stop
    - meta: {key: code}
      code: mysqld-deploy-seed
    - meta: {key: code}
      code: mysql-5.6-vm-start
    - meta: {key: code}
      code: mysql-5.6-vm-restart
    templates:
    - meta: {key: code}
      code: mysql-cnf-master-5.6
    - meta: {key: code}
      code: mysql-cnf-custom-5.6
    - meta: {key: code}
      code: mysql-cnf-5.7
    containerMounts:
    - meta: {key: code}
      code: mysql-config
    - meta: {key: code}
      code: mysql-data
    - meta: {key: code}
      code: mysql-seed
    - meta: {key: code}
      code: mysql-logs
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
    backupType: MySQL
    containerPorts:
    - meta: {key: code}
      code: mysql.3306
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-slave
    shortName: mysql
    name: MySQL 5.7 Slave
    ports: [3306]
    containerVersion: '5.7'
    repositoryImage: ''
    imageCode: morpheus mysql 5.7
    entryPoint: /entrypoint.sh
    statTypeCode: mysql
    logTypeCode: mysql
    checkTypeCode: mysqlCheck
    mountData: /var/lib/mysql
    mountConfig: /etc/mysql/conf.d
    mountLogs: /var/log/mysql
    category: slave
    cloneType: mysql
    priorityOrder: 0
    serverType: vm
    hasDeployment: false
    providerType: vmware-plugin
    virtualImage:
      domainClass: virtualImage
      meta: {key: code}
      code: vmware.plugin.vsphere.image.morpheus.mysql.5.7-1
    actions:
    - meta: {key: code}
      code: mysql-remove-slave
    scripts:
    - meta: {key: code}
      code: mysql-5.6-vm-entrypoint
    - meta: {key: code}
      code: mysql-5.6-vm-stop
    - meta: {key: code}
      code: mysql-5.6-vm-start
    - meta: {key: code}
      code: mysql-5.6-vm-restart
    templates:
    - meta: {key: code}
      code: mysql-cnf-slave-5.6
    - meta: {key: code}
      code: mysql-cnf-custom-5.6
    - meta: {key: code}
      code: mysql-cnf-5.7
    containerMounts:
    - meta: {key: code}
      code: mysql-config
    - meta: {key: code}
      code: mysql-data
    - meta: {key: code}
      code: mysql-seed
    - meta: {key: code}
      code: mysql-logs
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
    backupType: MySQL
    containerPorts:
    - meta: {key: code}
      code: mysql.3306

  containerTypeSet:
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-set
    category: master
    containerType: {domainClass: containerType, code: mysql-vmware-plugin-5.7}
    priorityOrder: 0
    containerCount: 1
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-master-set
    category: master
    containerType: {domainClass: containerType, code: mysql-vmware-plugin-5.7-master}
    priorityOrder: 0
    containerCount: 1
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-slave-set
    category: master
    containerType: {domainClass: containerType, code: mysql-vmware-plugin-5.7-slave}
    priorityOrder: 2
    containerCount: 1
  - meta: {key: code}
    code: mysql-vmware-plugin-5.7-master-dual-set
    category: master
    containerType: {domainClass: containerType, code: mysql-vmware-plugin-5.7-master}
    priorityOrder: 0
    containerCount: 2

  instanceTypeLayout:
  - meta:
      key: [code, instanceType]
    code: mysql-vmware-plugin-5.7-single
    name: VMware Master
    sortOrder: 30
    description: This will provision a single master vm in vmware
    instanceType:
      domainClass: instanceType
      meta: {key: code}
      code: mysql
    instanceVersion: 5.7-beta
    serverCount: 1
    portCount: 1
    memoryRequirement: 2147483648
    hasSettings: true
    layoutStyle: mysql
    serverType: vm
    postProvisionService: null
    postProvisionOperation: null
    enabled: true
    creatable: true
    containers:
    - meta: {key: code}
      code: mysql-vmware-plugin-5.7-set
    actions:
    - meta: {key: code}
      code: mysql-add-slave
    optionTypes:
    - meta: {key: code}
      code: instanceType.mysql.rootPassword
    - meta: {key: code}
      code: instanceType.mysql.username
    - meta: {key: code}
      code: instanceType.mysql.password
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
  - meta:
      key: [code, instanceType]
    code: mysql-vmware-plugin-5.7-master-slave
    name: VMware Master/Slave
    sortOrder: 31
    description: This will provision a master and slave vm in vmware
    instanceType:
      domainClass: instanceType
      meta: {key: code}
      code: mysql
    instanceVersion: 5.7-beta
    serverCount: 2
    portCount: 1
    memoryRequirement: 2147483648
    hasSettings: true
    layoutStyle: master_slave
    serverType: vm
    enabled: true
    creatable: true
    containers:
    - meta: {key: code}
      code: mysql-vmware-plugin-5.7-master-set
    - meta: {key: code}
      code: mysql-vmware-plugin-5.7-slave-set
    postProvisionService: mysqlContainerService
    postProvisionOperation: initMasterSlave
    actions:
    - meta: {key: code}
      code: mysql-add-slave
    - meta: {key: code}
      code: mysql-change-master
    optionTypes:
    - meta: {key: code}
      code: instanceType.mysql.rootPassword
    - meta: {key: code}
      code: instanceType.mysql.username
    - meta: {key: code}
      code: instanceType.mysql.password
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
  - meta:
      key: [code, instanceType]
    code: mysql-vmware-plugin-5.7-master-master
    name: VMware Master/Master
    sortOrder: 32
    description: This will provision dual masters in vmware
    instanceType:
      domainClass: instanceType
      meta: {key: code}
      code: mysql
    instanceVersion: 5.7-beta
    serverCount: 2
    portCount: 1
    memoryRequirement: 2147483648
    hasSettings: true
    layoutStyle: master_master
    serverType: vm
    enabled: true
    creatable: true
    containers:
    - meta: {key: code}
      code: mysql-vmware-plugin-5.7-master-dual-set
    postProvisionService: mysqlContainerService
    postProvisionOperation: initMasterMaster
    actions:
    - meta: {key: code}
      code: mysql-add-slave
    optionTypes:
    - meta: {key: code}
      code: instanceType.mysql.rootPassword
    - meta: {key: code}
      code: instanceType.mysql.username
    - meta: {key: code}
      code: instanceType.mysql.password
    provisionType:
      domainClass: provisionType
      meta: {key: code}
      code: vmware-provision-provider-plugin
