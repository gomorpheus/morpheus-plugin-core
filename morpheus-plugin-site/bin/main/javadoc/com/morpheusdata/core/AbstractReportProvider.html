<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AbstractReportProvider (Morpheus Plugin API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractReportProvider (Morpheus Plugin API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.morpheusdata.core</a></div>
<h2 title="Class AbstractReportProvider" class="title">Class AbstractReportProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.morpheusdata.core.AbstractReportProvider</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="PluginProvider.html" title="interface in com.morpheusdata.core">PluginProvider</a></code>, <code><a href="ReportProvider.html" title="interface in com.morpheusdata.core">ReportProvider</a></code>, <code><a href="UIExtensionProvider.html" title="interface in com.morpheusdata.core">UIExtensionProvider</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">AbstractReportProvider</span>
extends java.lang.Object
implements <a href="ReportProvider.html" title="interface in com.morpheusdata.core">ReportProvider</a></pre>
<div class="block">Provides an abstract interface and standard set of methods for creating custom report types within Morpheus. The report engine
 typically leverages a concept of a defined <a href="../model/ReportType.html" title="class in com.morpheusdata.model"><code>ReportType</code></a> and its associated <a href="../model/OptionType.html" title="class in com.morpheusdata.model"><code>OptionType</code></a> filters
 as well as a means to process a report and subsequently render the results in a nice view format.

 <p>A custom report has 2 parts. One is the method for processing/generating the report. This takes an input of a <a href="../model/ReportResult.html" title="class in com.morpheusdata.model"><code>ReportResult</code></a> for details as to the users configured filters as well as
 where the result rows should be stored. The process method should send data back as result rows grouped by section. These sections can be header,footer,main or custom.
 But be aware, only the main section is used when automatically providing csv export functionality.</p>
 <p><strong>Example Process (Groovy Code):</strong></p>
 <pre><code>
 void process(ReportResult reportResult) {
      morpheus.report.updateReportResultStatus(reportResult,ReportResult.Status.generating).blockingGet();
      Long displayOrder = 0
      List&lt;GroovyRowResult&gt; results = []
      Connection dbConnection

      try {
          dbConnection = morpheus.report.getReadOnlyDatabaseConnection().blockingGet()
          if(reportResult.configMap?.phrase) {
              String phraseMatch = "${reportResult.configMap?.phrase}%"
              results = new Sql(dbConnection).rows("SELECT id,name,status from instance WHERE name LIKE ${phraseMatch} order by name asc;")
          } else {
              results = new Sql(dbConnection).rows("SELECT id,name,status from instance order by name asc;")
          }
      } finally {
          morpheus.report.releaseDatabaseConnection(dbConnection)
      }
      log.info("Results: ${results}")
      Observable&lt;GroovyRowResult&gt; observable = Observable.fromIterable(results) as Observable&lt;GroovyRowResult&gt;
      observable.map{ resultRow -&gt;
          log.info("Mapping resultRow ${resultRow}")
          Map&lt;String,Object&gt; data = [name: resultRow.name, id: resultRow.id, status: resultRow.status]
          ReportResultRow resultRowRecord = new ReportResultRow(section: ReportResultRow.SECTION_MAIN, displayOrder: displayOrder++, dataMap: data)
          log.info("resultRowRecord: ${resultRowRecord.dump()}")
          return resultRowRecord
      }.buffer(50).doOnComplete {
          morpheus.report.updateReportResultStatus(reportResult,ReportResult.Status.ready).blockingGet();
      }.doOnError { Throwable t -&gt;
          morpheus.report.updateReportResultStatus(reportResult,ReportResult.Status.failed).blockingGet();
      }.subscribe {resultRows -&gt;
          morpheus.report.appendResultRows(reportResult,resultRows).blockingGet()
      }
  }
 </code></pre>
 <p>The second part of the report is the rendering/visual aspect. This is done via the <a href="ReportProvider.html#renderTemplate(com.morpheusdata.model.ReportResult,java.util.Map)"><code>ReportProvider.renderTemplate(ReportResult, Map)</code></a> method.
 This contains a reference to the originating report result as well as the rows grouped by section.</p>

 This particular abstract simply initializes a <a href="../views/HandlebarsRenderer.html" title="class in com.morpheusdata.views"><code>HandlebarsRenderer</code></a> and provides registration of helper methods for accessing static assets</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ReportProvider.html" title="interface in com.morpheusdata.core"><code>ReportProvider</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="AbstractReportProvider.WithDbConnectionFunction.html" title="interface in com.morpheusdata.core">AbstractReportProvider.WithDbConnectionFunction</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">AbstractReportProvider</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../views/Renderer.html" title="interface in com.morpheusdata.views">Renderer</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRenderer()">getRenderer</a></span>()</code></th>
<td class="colLast">
<div class="block">Default is Handlebars</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withDbConnection(com.morpheusdata.core.AbstractReportProvider.WithDbConnectionFunction)">withDbConnection</a></span>&#8203;(<a href="AbstractReportProvider.WithDbConnectionFunction.html" title="interface in com.morpheusdata.core">AbstractReportProvider.WithDbConnectionFunction</a>&nbsp;connectionFunction)</code></th>
<td class="colLast">
<div class="block">Provides a lambda method for wrapping code that needs a temporary read only database connection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.morpheusdata.core.PluginProvider">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.morpheusdata.core.<a href="PluginProvider.html" title="interface in com.morpheusdata.core">PluginProvider</a></h3>
<code><a href="PluginProvider.html#getCode()">getCode</a>, <a href="PluginProvider.html#getMorpheus()">getMorpheus</a>, <a href="PluginProvider.html#getName()">getName</a>, <a href="PluginProvider.html#getPlugin()">getPlugin</a>, <a href="PluginProvider.html#isPlugin()">isPlugin</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.morpheusdata.core.ReportProvider">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.morpheusdata.core.<a href="ReportProvider.html" title="interface in com.morpheusdata.core">ReportProvider</a></h3>
<code><a href="ReportProvider.html#getCategory()">getCategory</a>, <a href="ReportProvider.html#getDescription()">getDescription</a>, <a href="ReportProvider.html#getMasterOnly()">getMasterOnly</a>, <a href="ReportProvider.html#getOptionTypes()">getOptionTypes</a>, <a href="ReportProvider.html#getOwnerOnly()">getOwnerOnly</a>, <a href="ReportProvider.html#getSupportsAllZoneTypes()">getSupportsAllZoneTypes</a>, <a href="ReportProvider.html#process(com.morpheusdata.model.ReportResult)">process</a>, <a href="ReportProvider.html#renderTemplate(com.morpheusdata.model.ReportResult,java.util.Map)">renderTemplate</a>, <a href="ReportProvider.html#validateOptions(java.util.Map)">validateOptions</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.morpheusdata.core.UIExtensionProvider">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.morpheusdata.core.<a href="UIExtensionProvider.html" title="interface in com.morpheusdata.core">UIExtensionProvider</a></h3>
<code><a href="UIExtensionProvider.html#getContentSecurityPolicy()">getContentSecurityPolicy</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractReportProvider</h4>
<pre>public&nbsp;AbstractReportProvider()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getRenderer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRenderer</h4>
<pre class="methodSignature">public&nbsp;<a href="../views/Renderer.html" title="interface in com.morpheusdata.views">Renderer</a>&lt;?&gt;&nbsp;getRenderer()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="UIExtensionProvider.html#getRenderer()">UIExtensionProvider</a></code></span></div>
<div class="block">Default is Handlebars</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="UIExtensionProvider.html#getRenderer()">getRenderer</a></code>&nbsp;in interface&nbsp;<code><a href="UIExtensionProvider.html" title="interface in com.morpheusdata.core">UIExtensionProvider</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>renderer of specified type</dd>
</dl>
</li>
</ul>
<a id="withDbConnection(com.morpheusdata.core.AbstractReportProvider.WithDbConnectionFunction)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>withDbConnection</h4>
<pre class="methodSignature">public&nbsp;java.lang.Object&nbsp;withDbConnection&#8203;(<a href="AbstractReportProvider.WithDbConnectionFunction.html" title="interface in com.morpheusdata.core">AbstractReportProvider.WithDbConnectionFunction</a>&nbsp;connectionFunction)</pre>
<div class="block">Provides a lambda method for wrapping code that needs a temporary read only database connection. Exposes a Connection for use by things like Groovy SQL.
 When the script is complete, the connection is automatically released from the context for use by another operation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connectionFunction</code> - the lambda function containing the code needing a db connection.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
